# cacti-intro

## cacti是什么

Cacti 在英文中的意思是仙人掌的意思，Cacti是一套基于PHP,MySQL,SNMP及RRDTool开发的网络流量监测图形分析工具。它通过snmpget来获取数据，使用
RRDtool绘画图形，而且你完全可以不需要了解RRDtool复杂的参数。它提供了非常强大的数据和用户管理功能，可以指定每一个用户能查看树状结构、host以及任何一张图，还可以与LDAP结合进行用户验证，同时也能自己增加模板，功能非常强大完善



cacti常见的监测对象

（1）服务器资源：CPU、内存、磁盘、进程、连接数等

（2）服务器类型：WEB、Mail、FTP、数据库、中间件

（3）网络接口：流量、转发速度、丢包率

（4）网络设备性能、配置文件（对比与备份）、路由数

（5）安全设备性能、连接数、攻击数

（6）设备运行状态：风扇、电源、温度

（7）机房运行环境：电流、电压、温湿度

### RRDtool

RRDtool是一系列由Tobi Oetiker创建的数据库工具。它也被设计处理时间序列数据像网络带宽，温度，CPU负载等。这些数据被存储在一系列数据库中，因此系统存储足迹持续的留下

使用RRDtool来存储和处理通过SNMP收集到的数据开始。这些数据很可能是某个网络或计算机接收或发送的字节数（比特数）。它也可以用来显示潮水的波浪、阳光射线、电力消耗、展会的参观人员、机场附近的噪音等级、你喜欢的度假区的温度、电冰箱的温度、以及任何你可以想象的东西。
你最需要一个度量数据，以及能够提供这些数据给RRDtool的感应器就可以了。RRDtool会让你创建数据库、存储数据、提取数据、创建用于在Web浏览器中显示的PNG格式的图像。这些PNG图像以来于你收集的数据，它可以是网络平均使用率、峰值

**RRD**:Round Robin Database环状数据库

### SNMP

snmp(Simple Network Management Protocal, 简单网络管理协议)在架构体系的监控子系统中将扮演重要角色。大体上，其基本原理是，在每一个被监控的主机或节点上 (如交换机)都运行了一个 agent，用来收集这个节点的所有相关的信息，同时监听 snmp 的 port，也就是 UDP 161，并从这个端口接收来自监控主机的指令(查询和设置)。 	
如果使用 RHEL5 的 net-snmp，那么被监控主机需要安装 net-snmp(包含了 snmpd 这个 agent)，而监控端需要安装 net-snmp-utils。如果自行编译，需要 beecrypt(libbeecrypt)和 elf(libraryelf)的库。

每一个 agent 维护一个树形的数据库，称为 MID(Management Information Base, 管理信息库)，其每一个节点称为 Object Identifier(OID)，这在使用 net-snmp-utils 的工具时会用到。这些节点就表示了这台主机系统的设备如网卡的接口描述(eth0 等)、物理地址(MAC)、接口类型等，也可能是系统的信息，或者是需要监控的进程等... 

